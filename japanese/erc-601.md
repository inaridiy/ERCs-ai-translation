---
original: 4cb7206e470141f45ed0dce8ddfcc003096b2f4665bc1c89c7b6043c75269fad
---

---
eip: 601
title: 決定論的ウォレットのためのEthereumヒエラルキー
author: Nick Johnson (@arachnid), Micah Zoltu (@micahzoltu)
type: Standards Track
category: ERC
status: Final
discussions-to: https://ethereum-magicians.org/t/eip-erc-app-keys-application-specific-wallet-accounts/2742
created: 2017-04-13
---

## 概要
このEIPは、[BIP32](https://github.com/bitcoin/bips/blob/master/bip-0032.mediawiki)に基づいた決定論的ウォレットの論理的ヒエラルキーを定義し、[BIP43](https://github.com/bitcoin/bips/blob/master/bip-0043.mediawiki)で定義されたpurpose方式と、eip-draft-ethereum-purposeを使用しています。

このEIPはeip-draft-ethereum-purposeの特定の用途です。

## 動機
現在、さまざまなEthereumクライアントやウォレットが異なる派生パスを使用しています。それらのサマリーは[ここ](https://github.com/ethereum/EIPs/issues/84#issuecomment-292324521)にあります。これらのパスの一部はBIP44(派生パスを`m/44'/`から始めるための標準)に違反しています。これにより、ウォレットの実装間で混乱と非互換性が生じ、場合によっては1つのウォレットから別のウォレットにファンドにアクセスできなくなったり、ユーザーに手動でデリベーションパスを入力するよう求めたりするなど、使いやすさが損なわれます。

さらに、BIP44はUTXOベースのブロックチェーンを念頭に置いて設計されたものであり、アカウントの概念を使用するEthereumには適していません。

代替案として、Ethereumの固有の要件により適したデターミニスティックウォレットのヒエラルキーを提案します。

## 仕様
BIP32パスに以下の4つのレベルを定義します:

<pre>
m / purpose' / subpurpose' / EIP' / wallet'
</pre>

パスの中のアポストロフィは、BIP32のハード化された派生が使用されることを示しています。

各レベルには特別な意味があり、以下の章で説明します。

### Purpose
Purposeは43に設定され、これはビットコイン以外の暗号通貨のための鍵の派生であることを示しています。

このレベルではハード化された派生が使用されます。

### Subpurpose
Subpurposeは60に設定され、これはEthereumのSLIP-44コードです。

このレベルではハード化された派生が使用されます。

### EIP
EIPは、BIP32の派生パスの残りの部分を指定するEIPの番号に設定されます。このEIP仕様に従うパスの場合、このEIPに割り当てられた番号が使用されます。

このレベルではハード化された派生が使用されます。

### Wallet
このパスのコンポーネントは、単一のウォレットに複数の公開アイデンティティを持つことを可能にする、異なるユーザーアイデンティティにウォレットを分割します。

アカウントは0からインデックスを付けて順番に番号付けされます。この番号がBIP32の派生におけるチャイルドインデックスとして使用されます。

このレベルではハード化された派生が使用されます。

ソフトウェアは、前のアカウントに取引履歴がない場合(つまりそのアドレスが以前に使用されていない場合)、アカウントの作成を防止する必要があります。

ソフトウェアは、外部のソースからシードをインポートした後、使用されたすべてのアカウントを発見する必要があります。

## 根拠
既存の慣例は、`m/44'/60'/*`から始まるパスを使用して'Ethereum'コインタイプを使用することです。しかし、これはUTXOベースのコインを前提としているため、標準化、使いやすさ、セキュリティの妥協を招くと主張しています。その結果、Ethereum系列のチェーン用の完全に新しいヒエラルキーを定義するこの提案を行っています。

## 下位互換性
別の派生パスの導入には、既存のソフトウェアがこのスキームに加えて既存のスキームもサポートする必要があります。Ethereumのウォレット派生パスがすでに混乱している状況を考えると、これによる追加の混乱はそれほど大きくないと予想されますが、長期的には大幅な改善につながる可能性があります。

ニーモニックを使用するアプリケーションの場合、著者はこの新しい派生パスに移行する際の下位互換性の懸念を回避する方法を説明する別のEIPドラフトを提出する予定です。

## テストケース
TBD

## 実装
まだありません。

## 参考文献
[派生パスに関するこの議論](https://github.com/ethereum/EIPs/issues/84)

## 著作権
著作権およびそれに関連する権利は[CC0](../LICENSE.md)によって放棄されています。