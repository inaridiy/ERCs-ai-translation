---
original: 424641306dce0362331914d9d58bacbf11d0cea1d68b93533ce9d3561e568009
---

---
eip: 7617
title: Web3 URL のERC-5219モードでのチャンクサポート
description: ERC-5219解決モードで、複数のチャンクで構成されるWeb3 URL リソースを取得する機能を追加する
author: Qi Zhou (@qizhou), Nicolas Deschildre (@nand2)
discussions-to: https://ethereum-magicians.org/t/erc-5219-resolve-mode/14088
status: Draft
type: Standards Track
category: ERC
created: 2024-02-08
requires: 5219, 6944
---

## 概要

[ERC-6860](./eip-6860.md) `web3://` 標準の文脈において、このERCは[ERC-6944](./eip-6944.md)解決モードを拡張します。この標準は、`request()`呼び出しによって返される新しい任意の ``web3-next-chunk`` HTTPヘッダーを定義します。このヘッダーには、リソースデータの次のデータチャンクを指す `web3://` URLが含まれています。チャンクは `web3://` クライアントにストリーミングされ、``web3-next-chunk``ヘッダーがなくなるまでループします。

## 動機

EthereumのRPCエンドポイントにはガス制限があり、大容量のコンテンツを提供する際に制限に達する可能性があります。チャンキング機能を追加することで、任意のサイズのコンテンツを提供できるようになります。

## 仕様

[ERC-6944](./eip-6944.md)解決モードでは、この標準は新しい任意の``web3-next-chunk``HTTPヘッダーを導入します。このヘッダーは、[ERC-6944](./eip-6944.md)で定義された`request()`メソッドの`headers`の`KeyValue`配列で返されます。

ヘッダーの値は、完全な`web3://`URLか相対URLのいずれかです。ターゲットのスマートコントラクトは、[ERC-6944](./eip-6944.md)解決モードを使用する必要があります。

初期の`request()`呼び出しの結果を処理する際、プロトコルはすぐにHTTPステータスコード、HTTPヘッダー、およびボディを`web3://`クライアントに返します。``web3-next-chunk``ヘッダーが存在する場合、URLを解析します。URLが無効であるか、ターゲットのスマートコントラクトが[ERC-6944](./eip-6944.md)解決モードを使用していない場合、HTTPデータストリーミングはエラーで終了します。それ以外の場合は、`request()`メソッドを呼び出し、返された`statusCode`を無視し、`body`データを次のデータチャンクとして送信し、``web3-next-chunk``ヘッダーがもう存在しなくなるまでループします。

## 根拠

次のチャンクを指すヘッダーを使用することを選択した理由は、[ERC-6944](./eip-6944.md)`request()`インターフェイスに変更を加える必要がなく、ヘッダーの`web3://`URLを使用することで、次のチャンクを提供する手段に柔軟性が加わるためです。

## セキュリティ上の考慮事項

セキュリティ上の懸念は見つかりませんでした。

## 著作権

著作権およびそれに関連する権利は[CC0](../LICENSE.md)によって放棄されています。