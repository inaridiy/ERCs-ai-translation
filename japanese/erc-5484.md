---
original: b8e47e80eed32cbe0ff97b91cedf1e4cdc84f3d06e2a423dcf619a0d498414ec
---

---
eip: 5484
title: 合意に基づくソウルバウンドトークン
description: 不変の所有権と事前に決められた不変の焼却権限を持つ特殊なNFTのインターフェース
author: Buzz Cai (@buzzcai)
discussions-to: https://ethereum-magicians.org/t/eip-5484-consensual-soulbound-tokens/10424
status: 最終版
type: 標準化トラック
category: ERC
created: 2022-08-17
requires: 165, 721
---


## 概要

このEIPは、[EIP-721](./eip-721.md)を拡張してソウルバウンドトークンを定義します。発行前に、発行者と受信者の両者が、このトークンを焼却する権限を誰が持つかに合意する必要があります。焼却権限は発行後に変更できません。発行後、ソウルバウンドトークンは転送できませんが、事前に決められた不変の焼却権限に基づいて焼却することができます。

## 動機

ソウルバウンド トークンのアイデアは、その公開以来、大きな注目を集めています。しかし、標準的なインターフェースがないため、ソウルバウンド トークンは互換性がありません。ソウルバウンド トークンの実装に関する最小限のコンセンサスがなければ、ソウルバウンド トークンを対象とする汎用サービスを開発するのは難しいです。

このEIPでは、ソウルバウンド トークンを資格、信用記録、ローン履歴、会員資格などの役割を果たす特殊なNFTとして位置づけています。これらのシナリオでの柔軟性を提供するために、ソウルバウンド トークンには用途に応じた焼却権限と、通常のEIP-721トークンと区別する方法が必要です。

## 仕様

この文書の中の "MUST"、"MUST NOT"、"REQUIRED"、"SHALL"、"SHALL NOT"、"SHOULD"、"SHOULD NOT"、"RECOMMENDED"、"MAY"、"OPTIONAL" というキーワードは、RFC 2119に記載されているように解釈されるものとします。

- トークンは以下のインターフェースを実装しなければなりません:

  1. [EIP-165](./eip-165.md)の `ERC165` (`0x01ffc9a7`)
  1. [EIP-721](./eip-721.md)の `ERC721` (`0x80ac58cd`)

- `burnAuth`は発行前に受信者に提示されなければなりません。
- `burnAuth`は発行後に変更できません。
- `burnAuth`は、どの当事者がトークンを焼却する権利を持つかを決定する唯一の要因となります。
- 発行者は、発行前にトークンのメタデータを受信者に提示し、受信者の署名を得なければなりません。
- 発行者は、発行後にメタデータを変更してはいけません。

/// Note: このインターフェースのEIP-165識別子は0x0489b56fです

### コントラクトインターフェース

```solidity
// SPDX-License-Identifier: CC0-1.0
pragma solidity ^0.8.0;

interface IERC5484 {
    /// 焼却権限の番号コード化を標準化するためのガイドライン
    enum BurnAuth {
        IssuerOnly,
        OwnerOnly,
        Both,
        Neither
    }

    /// @notice ソウルバウンドトークンが発行されたときに発行される
    /// @dev これはnftの転送イベントに追加されるもので、ソウルバウンドトークンを通常のnftと区別し、下位互換性を提供するためのものです。
    /// @param from 発行者
    /// @param to 受信者
    /// @param tokenId 発行されたトークンのID
    event Issued (
        address indexed from,
        address indexed to,
        uint256 indexed tokenId,
        BurnAuth burnAuth
    );

    /// @notice トークンIDの焼却権限を提供します。
    /// @dev 割り当てられていないtokenIdは無効で、クエリは例外を投げます
    /// @param tokenId トークンの識別子
    function burnAuth(uint256 tokenId) external view returns (BurnAuth);
}
```

## 根拠

### EIP-721の拡張としてのソウルバウンドトークン(SBT)

ソウルバウンドトークンは、既存のEIP-721トークンの特殊なサブセットであると考えています。このような設計の利点は、ソウルバウンドトークンと既存のNFTサービスとの完全な互換性です。サービス提供者はSBTをNFTのように扱うことができ、既存のコードベースに大幅な変更を加える必要がありません。

### 転送不可能

[EIP-721](./eip-721.md)を拡張したソウルバウンドトークンの現在の実装では、すべての転送実装がエラーを投げます。もっとクリーンなアプローチは、転送関数がエラーを投げつつ、事前にソウルバウンドインターフェースを実装しているかどうかをサードパーティが確認できるようにすることです。これにより、転送呼び出しを避けることができます。

### 焼却権限

インターフェースの使用に関して最大限の自由を望んでいます。焼却に関する柔軟で事前に決められたルールが重要です。以下は、さまざまな焼却権限のサンプルシナリオです:

- `IssuerOnly`: ローン記録
- `ReceiverOnly`: 有料会員
- `Both`: 資格証明
- `Neither`: 信用履歴

焼却権限は特定のトークンに紐づいており、発行後に変更できません。したがって、トークンが発行される前に受信者に通知し、受信者の同意を得ることが重要です。

### Issuedイベント

発行時に、[EIP-721](./eip-721.md)の `Transfer` イベントとともに `Issued` イベントが発行されます。この設計は下位互換性を維持しつつ、これがソウルバウンドトークンの発行イベントであることを明確にサードパーティに伝えます。

### 鍵の更新

Ethereumユーザーの懸念の1つは、ソウルバウンドトークンの所有権が不変であるため、鍵の更新が奨励されないということです。これは正当な懸念です。しかし、焼却可能なソウルバウンドトークンがあれば、鍵の更新が可能になります。ソウルバウンドトークンの所有者が鍵の更新が必要な場合、発行者に通知することができます。そして、焼却権限を持つ当事者がトークンを焼却し、発行者が新しいアドレスに複製を発行することができます。

## 下位互換性

この提案は[EIP-721](./eip-721.md)と完全に下位互換性があります。

## セキュリティ上の考慮事項

この標準の実装に直接関連するセキュリティ上の考慮事項はありません。

## 著作権

著作権およびそれに関連する権利は[CC0](../LICENSE.md)により放棄されています。