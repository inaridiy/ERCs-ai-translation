---
original: 42cc1bff94f460958efe00ef8a21d7efb9b1f1bacf4a50473e3c453fae8e7dd1
---

---
eip: 634
title: ENSにおけるテキストレコードの保存
description: ENSリゾルバーのプロファイルを使用して、任意のテキストキー/値ペアを保存する。
author: Richard Moore (@ricmoo)
type: Standards Track
discussions-to: https://github.com/ethereum/EIPs/issues/2439
category: ERC
status: Stagnant
created: 2017-05-17
requires: 137, 165
---

## 概要
このEIPでは、任意のキー値テキストデータの検索を可能にするENSリゾルバープロファイルを定義します。これにより、ENS名の所有者は、電子メールアドレス、URL、その他の情報データをENS名に関連付けることができます。

## 動機
機械駆動のデータに人間可読のメタデータを関連付けることは、デバッグ、メンテナンス、レポーティング、一般情報のために望ましいことが多くあります。

このEIPでは、ENS名に任意のキー値テキストを関連付けることができる簡単なリゾルバープロファイルを定義します。

## 仕様

### リゾルバープロファイル

新しいリゾルバーインターフェイスが定義されており、以下のメソッドで構成されています:

```solidity
interface IERC634 {
  /// @notice ENS名に関連付けられたテキストデータを返す
  /// @param node ENS名のノードハッシュ
  /// @param key 検索するテキストデータのキー
  /// @return テキストデータ
  function text(bytes32 node, string key) view returns (string text);
}
```

このインターフェイスの[EIP-165](./eip-165.md)インターフェースIDは`0x59d1d43c`です。

`text`データは任意のUTF-8文字列になります。キーが存在しない場合は、空文字列を返す必要があります。

### グローバルキー

グローバルキーは、小文字の文字、数字、ハイフン(-) で構成される必要があります。

- **avatar** - アバターやロゴとして使用される画像のURL
- **description** - 名前の説明
- **display** - ENS名の正規表示名。これはENS名のケースを折りたたんだものと一致する必要があり、一致しない場合はクライアントはこの値を無視する必要があります(例: `"ricmoo.eth"`は`"RicMoo.eth"`に設定できる)
- **email** - 電子メールアドレス
- **keywords** - 最も重要なものから順に並べられたコンマ区切りのキーワードのリスト。このフィールドを解釈するクライアントは、それ以降のキーワードを無視することを選択できます
- **mail** - 郵送先住所
- **notice** - この名前に関する通知
- **location** - 一般的な場所(例: `"東京, 日本"`)
- **phone** - E.164形式の電話番号
- **url** - ウェブサイトのURL

### サービスキー

サービスキーは、サービスが所有する名前空間の*逆ドット表記*で構成される必要があります。これには、DNSドメイン名(例: `.com`, `.io`など)やENS名(`.eth`など)が含まれます。サービスキーには少なくとも1つのドットが含まれている必要があります。

これにより、新しいサービスが既存のサービスと衝突することなく独自のキーを使用できるようになり、新しいサービスがこのドキュメントを更新する必要がなくなります。

以下のサービスは一般的なため、ここで推奨されていますが、理想的にはサービス自体がキーを宣言する必要があります。

- **com.github** - GitHubのユーザー名
- **com.peepeth** - Peepethのユーザー名
- **com.linkedin** - LinkedInのユーザー名
- **com.twitter** - Twitterのユーザー名
- **io.keybase** - Keybaseのユーザー名
- **org.telegram** - Telegramのユーザー名

この手法により、サービス所有者がキーの階層を指定することもできます。例:

- **com.example.users**
- **com.example.groups**
- **com.example.groups.public**
- **com.example.groups.private**

### 旧式のキー

以下のキーは、このEIPの以前のバージョンで指定されていました。

これらの使用はあまり広くないと思われますが、最大限の互換性を試みるアプリケーションは、上記の置換キーが失敗した場合にこれらのキーを問い合わせることを検討する必要があります。

- **vnd.github** - GitHubのユーザー名 (`com.github`に改名)
- **vnd.peepeth** - Peepethのユーザー名 (`com.peepeth`に改名)
- **vnd.twitter** - Twitterのユーザー名 (`com.twitter`に改名)

## 根拠

### アプリケーション固有vs一般目的のレコードタイプ

`url`や`email`などの特定のレコードタイプを多数定義するのではなく、DNSの`TXT`レコードのモデルに従い、一般的なキーと値を許可することで、リゾルバーを調整することなく将来の拡張を可能にしつつ、アプリケーションが独自のキーを使用できるようにしています。

## 下位互換性
該当なし。

## セキュリティ上の考慮事項
なし。

## 著作権
著作権およびそれに関連する権利は[CC0](../LICENSE.md)により放棄されています。