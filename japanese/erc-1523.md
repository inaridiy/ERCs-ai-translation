---
original: 9e4117942e9cc016fed8d08a086f0615be4d9c5d9e420aa25673fb076a5e6cdd
---

---
eip: 1523
title: ERC-721 非代替性トークンとしての保険ポリシーの標準
author: Christoph Mussenbrock (@christoph2806)
discussions-to: https://github.com/ethereum/EIPs/issues/1523
status: 停滞
type: Standards Track
category: ERC
created: 2018-10-10
requires: 721
---

## 簡単な要約
ERC 721 に基づいた保険ポリシーの標準インターフェイス。

## 概要
以下の標準は、スマートコントラクト内の保険ポリシーの標準 API の実装を可能にします。
保険ポリシーは、顧客、特定のリスク、保険料、期間、引受会社、引受人などの固有の特性を持つ金融資産です。
しかし、保険ポリシーを資産として取引、移転、その他の方法で扱うことができる多くの潜在的なアプリケーションがあります。
ERC 721 標準は、ポリシーを特定のクラスの非代替性トークンとして扱うための標準的な技術手段を提供しています。
この提案では、可能な限り多くのポリシーに共通する最小限のメタデータ構造を定義します。

## 動機
分散型保険プロトコルにとって、保険ポリシーの標準は、関係するサービスとアプリケーションの相互運用性に不可欠です。
これにより、シンジケート、ブローカー、保険会社などの多くの独立したアクターが、ポリシーを一様かつ柔軟な方法でバンドル化、証券化、取引することができます。

## 仕様
この文書の「MUST」、「MUST NOT」、「REQUIRED」、「SHALL」、「SHALL NOT」、「SHOULD」、「SHOULD NOT」、「RECOMMENDED」、「MAY」、「OPTIONAL」というキーワードは、RFC 2119 に記載されているように解釈されるものとします。

ERC-1523 準拠の保険ポリシーは、非代替性トークンであり、**ERC-721 トークン標準に準拠し、ERC721Metadata および ERC721Enumerable インターフェイスを実装しなければなりません**:

```solidity
/// @title ERC-1523 保険ポリシー標準
///  Note: このインターフェイスの ERC-165 識別子は 0x5a04be32 です
interface ERC1523 /* is ERC721, ERC721Metadata, ERC721Enumerable */ {

}
```

実装者は、```name``` および ```symbol``` の値を選択することができます。

**ポリシーメタデータ拡張機能**は、ERC-1523 スマートコントラクトに**推奨されます**。
これにより、ポリシーメタデータを照会することができます。

```solidity
/// @title ERC-1523 保険ポリシー標準、オプションのポリシーメタデータ拡張
/// @dev ...を参照
///  Note: このインターフェイスの ERC-165 識別子は 0x5a04be32 です
interface ERC1523PolicyMetadata /* is ERC1523 */ {

    /// @notice 特定のプロパティのメタデータ文字列。
    /// プロパティは、そのプロパティパスのハッシュによって識別されます。
    /// 例えば、ERC721 Metadata JSON スキーマの "name" プロパティのプロパティパスは /properties/name で、
    /// プロパティパスのハッシュは keccak256() によって計算されます。
    /// これにより、プロパティの集合が無限に拡張可能であるため、任意のプロパティを効率的に扱うことができます。
    /// @dev `_propertyPathHash` が有効なプロパティパスハッシュでない場合は例外をスローします。 
    function policyMetadata(uint256 _tokenId, bytes32 _propertyPathHash) external view returns (string _property);

}
```

"ERC721 Metadata JSON Schema" に倣って、tokenURI **MUST** は以下のプロパティを持つ JSON ファイルを指すものとします:
```json
{
    "title": "Asset Metadata",
    "type": "object",
    "properties": {
        "name": {
            "type": "string",
            "description": "この NFT が表すアセットを識別します",
        },
        "description": {
            "type": "string",
            "description": "この NFT が表すアセットの説明",
        },
        \[以下の表に従った追加のパラメータ\]
    }
}
```

### メタデータ JSON スキーマの追加パラメータ

| パラメータ     | 型            | 必須     | 説明                                                                        |
| ------------- | ------------- | ----------| ---------------------------------------------------------------------------------- |  
| carrier       | string        | はい      | 主要なリスクを引き受ける引受会社を記述します                                 |
| risk          | string        | はい      | リスクを記述します                                                                 |
| status        | string        | はい      | ポリシーの状態を記述します (例: 申請中、引受済み、失効)                        |
| parameters    | string        | いいえ     | リスクを特徴づける追加のパラメータを記述します                               |
| terms         | string        | いいえ     | このポリシーに適用される法的条件を記述します                     |
| premium       | string        | いいえ     | 保険料の文字列表現。通貨の単位を**含む場合があります**       |
| sum_insured   | string        | いいえ     | 保険金額の文字列表現。通貨の単位を**含む場合があります**   |

必須パラメータ**MUST**がメタデータ JSON に含まれていなければなりません。その他のパラメータ**MAY**含まれていてもかまいません。ただし、提案されたオプションのパラメータ**SHOULD**は、その目的のために使用されるべきです。例えば、保険料の金額がメタデータに含まれる場合、パラメータ名は "premium" **SHOULD**です。
すべてのパラメータは、プレーンテキストであっても**よく**、認証メカニズムによって保護された資源を指すURIであっても**よい**です。

## 根拠
保険ポリシーは重要な金融資産のクラスを形成しており、それらの資産を ERC-721 標準に準拠した非代替性トークンのクラスとして表現するのは自然です。
我々は、保険ポリシーを一意に定義するために必要なメタデータ構造の標準化を提案します。標準化は重要です。なぜなら、分散型保険が広く採用されることが期待されており、相互運用性と汎用ツールセットの作成を可能にする統一された標準を確立することが不可欠だからです。
したがって、保険ポリシーを記述する様々なパラメータの標準化された命名スキームを提案します。すべての NFT に含まれる必須のパラメータ3つと、使用してもよい追加のパラメータを提案します。

### 必須パラメータ
ポリシーにはさまざまな特性があり得ますが、一般的にポリシーは何らかの事業体によって発行されます。つまり、クレームの支払いを行う責任のある事業体です。
第二に、保険ポリシーは通常特定のリスクに関連しています。一部のリスクは固有のものですが、多くのポリシーが同じリスクを共有する場合もあります (例: 同じ便の遅延に関するすべての保険ポリシー)。
一般的に、ポリシーとリスクの関係は多対一の関係で、特殊な場合として一対一の関係もあります。
第三に、ポリシーには様々なステータスのライフサイクルがあります。したがって、NFT にはこのステータスを表す必要があります。
これらの4つのプロパティが、ポリシーを記述するために必要不可欠であると考えています。多くのアプリケーションでは、これらのプロパティで十分かもしれません。

### オプションのパラメータ
ほとんどのポリシーには、リスクや他の特徴 (保険料、期間など) を特徴づけるためのより多くのパラメータが必要です。命名規則は上記の表に記載されています。
ただし、任意の実装では、さらに多くのプロパティを実装することができます。

### オンチェーンとオフチェーンのメタデータ
一部のアプリケーションでは、メタデータをオフチェーンのリポジトリやデータベースに保存し、tokenURI リソースロケーターで参照することで十分です。
より高度なアプリケーションでは、オンチェーンでメタデータを利用できるようにすることが望ましい場合があります。
したがって、```tokenURI```は上記の構造を持つ JSON を指す**MUST**ものとし、```policyMetadata```関数の実装は**OPTIONAL**とします。

## 下位互換性

## テストケース

## 実装

## 著作権
著作権およびそれに関連する権利は [CC0](../LICENSE.md) によって放棄されています。